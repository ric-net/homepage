<?php
/**
 * Reverse engineering of this file is strictly prohibited. 
 * このファイルのリバースエンジニアリングは禁止されています。
 *
 * MicroEngine MailForm
 * http://microengine.jp/mailform/
 *
 * @copyright Copyright (C) 2014-2015 MicroEngine Inc.
 */

$code = 'PD9waHAKY2xhc3MgTWVfR3VhcmQKewogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZW5kZXIoJGh0bWwsICRjb252ZXJ0X2NoYXJfY29kZSwgJGNoYXJfY29kZSwgJHN5c3RlbV9jaGFyX2NvZGUpCiAgICB7CiAgICAgICAgJGxpbmtfZWxlbSA9ICRodG1sLT5maW5kKCcjcG93ZXJlZF9ieV9tZScsIDApOwogICAgICAgIGlmIChNZV9HdWFyZDo6Y2hlY2tfbGljZW5zZSgpKSB7CiAgICAgICAgICAgIGlmICgkbGlua19lbGVtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkbGlua19lbGVtLT5vdXRlcnRleHQgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRwb3dlcmVkX2J5X2xpbmsgPSAnUG93ZXJlZCBieSA8YSBocmVmPSJodHRwOi8vbWljcm9lbmdpbmUuanAvIiB0YXJnZXQ9Il9ibGFuayI+TWljcm9FbmdpbmU8L2E+JzsKICAgICAgICAgICAgaWYgKCRsaW5rX2VsZW0gPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICRodG1sLT5maW5kKCdib2R5JywgMCktPmlubmVydGV4dCAuPSAnPGRpdj4nIC4gJHBvd2VyZWRfYnlfbGluayAuICc8L2Rpdj4nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJGxpbmtfZWxlbS0+aW5uZXJ0ZXh0ID0gJHBvd2VyZWRfYnlfbGluazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJGNvbnZlcnRfY2hhcl9jb2RlKSB7CiAgICAgICAgICAgICRodG1sID0gbWJfY29udmVydF9lbmNvZGluZygkaHRtbCwgJGNoYXJfY29kZSwgJHN5c3RlbV9jaGFyX2NvZGUpOwogICAgICAgIH0KICAgICAgICBlY2hvICRodG1sOwogICAgfQogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY2hlY2tfbGljZW5zZSgpCiAgICB7CiAgICAgICAgJHJlc3VsdCA9IGZhbHNlOwogICAgICAgICRsaWNlbnNlX2ZpbGVfcGF0aCA9IERBVEFfUk9PVCAuICcvY29uZmlnL2xpY2Vuc2UucGhwJzsKICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRsaWNlbnNlX2ZpbGVfcGF0aCkgfHwgIWlzX3JlYWRhYmxlKCRsaWNlbnNlX2ZpbGVfcGF0aCkpIHsKICAgICAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICAgICAgfQogICAgICAgICRsaWNlbnNlX2xpc3QgPSBpbmNsdWRlKCRsaWNlbnNlX2ZpbGVfcGF0aCk7CiAgICAgICAgJHByZWZpeCA9ICdtZV9tYWlsZm9ybT0xMDAwMHllbl8nOwogICAgICAgICRoYXNoID0gc2hhMSgkcHJlZml4IC4gJF9TRVJWRVJbIkhUVFBfSE9TVCJdKTsKICAgICAgICBpZiAoc3RycG9zKCRfU0VSVkVSWyJIVFRQX0hPU1QiXSwgJ3d3dy4nKSA9PT0gMCkgewogICAgICAgICAgICAkaGFzaF93d3cgPSBzdWJzdHIoJF9TRVJWRVJbIkhUVFBfSE9TVCJdLCA0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkaGFzaF93d3cgPSAnd3d3LicgLiAkX1NFUlZFUlsiSFRUUF9IT1NUIl07CiAgICAgICAgfQogICAgICAgICRoYXNoX3d3dyA9IHNoYTEoJHByZWZpeCAuICRoYXNoX3d3dyk7CiAgICAgICAgZm9yZWFjaCAoJGxpY2Vuc2VfbGlzdCBhcyAkbGljZW5zZSkgewogICAgICAgICAgICBpZiAoJGxpY2Vuc2UgPT09ICRoYXNoIHx8ICRsaWNlbnNlID09PSAkaGFzaF93d3cpIHsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSB0cnVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICB9Cn0=';

$tmp = tmpfile();
fwrite($tmp, base64_decode($code));
$meta_data = stream_get_meta_data($tmp);
$tmp_filename = $meta_data['uri'];
include_once $tmp_filename;
